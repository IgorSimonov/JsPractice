# Проект для обучения автоматизации на JavaScript с использованием WebDriverIO

## Содержание

- [Описание](#описание)
- [Технологии](#технологии)
- [Установка](#установка)
- [Настройка переменных среды](#настройка-переменных-среды)
- [Локализация](#локализация)
- [Запуск в разных браузерах](#запуск-в-разных-браузерах)
- [Требования к пользователю ВКонтакте](#требования-к-пользователю-вконтакте)
- [Запуск теста](#запуск-теста)
- [Структура проекта](#структура-проекта)

## Описание

Этот проект разработан с целью обучения автоматизации тестирования на JavaScript с применением библиотеки WebDriverIO на примере веб-приложения ВКонтакте.

## Технологии

Список основных технологий, которые используются в проекте:

- [Node.js](https://nodejs.org/)
- [WebdriverIO](https://webdriver.io/)
- [Mocha](https://mochajs.org/)
- [Chai](https://www.chaijs.com/)
  
## Установка

Инструкции по установке зависимостей и настройке проекта. Предполагается, что у пользователя уже установлен [Node.js](https://nodejs.org/)

```bash
# Клонировать репозиторий
git clone https://github.com/IgorSimonov/JsPractice.git

# Перейти в каталог проекта
cd JsPractice

# Установить зависимости
npm install
```

## Настройка переменных среды

Проект использует переменные среды для доступа к вашему аккаунту ВКонтакте и другим конфиденциальным данным. Перед запуском тестов необходимо установить следующие переменные среды:

- `ACCESS_TOKEN`: Access Token для доступа к API ВКонтакте.
- `USER_ID`: ID пользователя ВКонтакте.
- `LOGIN`: Логин для входа в аккаунт ВКонтакте.
- `PASSWORD`: Пароль для входа в аккаунт ВКонтакте.
Эти переменные могут быть установлены в вашей системе или в файле `.env`.

### Пример установки переменных среды в PowerShell:
```powershell
$env:ACCESS_TOKEN="your_access_token"
$env:USER_ID="your_user_id"
$env:LOGIN="your_login"
$env:PASSWORD="your_password"
```

### Пример файла `.env`:

```makefile
ACCESS_TOKEN=your_access_token
USER_ID=your_user_id
LOGIN=your_login
PASSWORD=your_password
```
Более подробную информацию  можно найти в [официальной документации WebDriverIO](https://webdriver.io/docs/parameterize-tests).

## Локализация

Проект поддерживает запуск тестов как на английской, так и на русской локализации веб-приложения ВКонтакте. Для изменения языка интерфейса необходимо обновить значение параметра `language` в файле `config.js`

### Файл `config.js`

```javascript
const config = {
    host: 'https://vk.com/',
    photoPath: 'post_photo.png',
    savePostPhotoPath: 'post_screen.png',
    language: 'en',
};

export default config;
```
Значение `language` может быть установлено в 'ru' для русского языка или 'en' для английского языка.

## Запуск в разных браузерах

Проект поддерживает запуск тестов в различных браузерах. По умолчанию, конфигурационный файл `wdio.conf.js` настроен на запуск тестов в Google Chrome.

### Поддерживаемые браузеры:

- Google Chrome
- Mozilla Firefox
- Safari
- Microsoft Edge

### Пример конфигурации:

```javascript
capabilities: [
        {
            browserName: 'chrome'
        },
    ],
```

### Пример для запуска в нескольких браузерах:

```javascript
capabilities: [
        {
            browserName: 'chrome'
        },
        {
            browserName: 'firefox'
        },
        // И так далее..
    ],
```
Для параллельных запусков следует поменять значение `maxInstances`.
Более подробную информацию  можно найти в [официальной документации WebDriverIO](https://webdriver.io/docs/capabilities/).

## Требования к пользователю ВКонтакте

Для корректного выполнения теста, ссылка на профиль пользователя ВКонтакте должна содержать его ID, а не кастомное имя. Убедитесь, что URL вашего профиля выглядит как `https://vk.com/id123456789`, а не `https://vk.com/yourcustomname`.

## Запуск теста

Выполнить команду:
```bash
npm run wdio
```
Или
```bash
wdio run ./wdio.conf.js
```

## Структура проекта

```bash
.
├── pageobjects/              # Страницы
│   ├── loginPage.js          # Страница входа
│   ├── page.js               # Общая страница
│   ├── newsPage.js           # Страница новостей
│   ├── profilePage.js        # Страница профиля
│   └── elements/            # Фрагменты страницы
│       ├── comment.js        # Комментарий поста
│       ├── post.js           # Пост
│       ├── sideBarMenu.js    # Боковое меню
│       └── wall.js           # Стена
├── test/                     # Тестовые файлы
│   └── spec/                 # Файлы спецификации тестов
│       └── test.js           # Тестовый файл
├── utils/                    # Утилиты
│   ├── common.js             # Общие утилиты
│   └── vkApi.js              # Библиотека для работы с API VK
├── config.js                 # Конфигурационные настройки проекта
└── wdio.conf.js              # Конфигурационный файл для WebDriverIO
```
